/*!
  * focus-trap-vue v1.0.0
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */
/*!
  * focus-trap-vue v1.0.0
  * (c) 2020 Eduardo San Martin Morote
  * @license MIT
  */
var FocusTrapVue=function(e){"use strict";
/*!
  * tabbable 5.1.0
  * @license MIT, https://github.com/focus-trap/tabbable/blob/master/LICENSE
  */let t=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])',"details>summary"],n=t.join(","),a="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function i(e,t){let i=[],r=[];return function(e,t,i){let o=Array.prototype.slice.apply(e.querySelectorAll(n));t&&a.call(e,n)&&o.unshift(e);return o=o.filter(i),o}(e,(t=t||{}).includeContainer,o).forEach((function(e,t){let n=l(e);0===n?i.push(e):r.push({documentOrder:t,tabIndex:n,node:e})})),r.sort(s).map(e=>e.node).concat(i)}function o(e){return!(!r(e)||function(e){return function(e){return d(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;let t=function(e,t){for(let n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}((e.form||e.ownerDocument).querySelectorAll('input[type="radio"][name="'+e.name+'"]'),e.form);return!t||t===e}(e)}(e)||l(e)<0)}function r(e){return!(e.disabled||function(e){return d(e)&&"hidden"===e.type}(e)||function(e){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e;){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}
/*!
  * focus-trap 6.1.0
  * @license MIT, https://github.com/focus-trap/focus-trap/blob/master/LICENSE
  */(e))}let c=t.concat("iframe").join(",");function u(e){if(!e)throw new Error("No node provided");return!1!==a.call(e,c)&&r(e)}function l(e){let t=parseInt(e.getAttribute("tabindex"),10);return isNaN(t)?function(e){return"true"===e.contentEditable}(e)?0:"AUDIO"!==e.nodeName&&"VIDEO"!==e.nodeName||null!==e.getAttribute("tabindex")?e.tabIndex:0:t}function s(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex}function d(e){return"INPUT"===e.tagName}var f,v,p=(v=[],{activateTrap:function(e){if(v.length>0){var t=v[v.length-1];t!==e&&t.pause()}var n=v.indexOf(e);-1===n||v.splice(n,1),v.push(e)},deactivateTrap:function(e){var t=v.indexOf(e);-1!==t&&v.splice(t,1),v.length>0&&v[v.length-1].unpause()}});function m(e,t){var n=document,a="string"==typeof e?n.querySelector(e):e,o={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,...t},r={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},c={activate:function(e){if(r.active)return;w(),r.active=!0,r.paused=!1,r.nodeFocusedBeforeActivation=n.activeElement;var t=e&&e.onActivate?e.onActivate:o.onActivate;t&&t();return s(),c},deactivate:l,pause:function(){if(r.paused||!r.active)return;r.paused=!0,d()},unpause:function(){if(!r.paused||!r.active)return;r.paused=!1,w(),s()}};return c;function l(e){if(r.active){clearTimeout(f),d(),r.active=!1,r.paused=!1,p.deactivateTrap(c);var t=e&&void 0!==e.onDeactivate?e.onDeactivate:o.onDeactivate;return t&&t(),(e&&void 0!==e.returnFocus?e.returnFocus:o.returnFocusOnDeactivate)&&b((function(){var e;D((e=r.nodeFocusedBeforeActivation,v("setReturnFocus")||e))})),c}}function s(){if(r.active)return p.activateTrap(c),f=o.delayInitialFocus?b((function(){D(m())})):D(m()),n.addEventListener("focusin",h,!0),n.addEventListener("mousedown",y,{capture:!0,passive:!1}),n.addEventListener("touchstart",y,{capture:!0,passive:!1}),n.addEventListener("click",F,{capture:!0,passive:!1}),n.addEventListener("keydown",k,{capture:!0,passive:!1}),c}function d(){if(r.active)return n.removeEventListener("focusin",h,!0),n.removeEventListener("mousedown",y,!0),n.removeEventListener("touchstart",y,!0),n.removeEventListener("click",F,!0),n.removeEventListener("keydown",k,!0),c}function v(e){var t=o[e],a=t;if(!t)return null;if("string"==typeof t&&!(a=n.querySelector(t)))throw new Error("`"+e+"` refers to no known node");if("function"==typeof t&&!(a=t()))throw new Error("`"+e+"` did not return a node");return a}function m(){var e;if(!(e=null!==v("initialFocus")?v("initialFocus"):a.contains(n.activeElement)?n.activeElement:r.firstTabbableNode||v("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return e}function y(e){a.contains(e.target)||(o.clickOutsideDeactivates?l({returnFocus:!u(e.target)}):o.allowOutsideClick&&("boolean"==typeof o.allowOutsideClick?o.allowOutsideClick:o.allowOutsideClick(e))||e.preventDefault())}function h(e){a.contains(e.target)||e.target instanceof Document||(e.stopImmediatePropagation(),D(r.mostRecentlyFocusedNode||m()))}function k(e){if(!1!==o.escapeDeactivates&&function(e){return"Escape"===e.key||"Esc"===e.key||27===e.keyCode}(e))return e.preventDefault(),void l();(function(e){return"Tab"===e.key||9===e.keyCode})(e)&&function(e){if(w(),e.shiftKey&&e.target===r.firstTabbableNode)return e.preventDefault(),void D(r.lastTabbableNode);if(!e.shiftKey&&e.target===r.lastTabbableNode)e.preventDefault(),D(r.firstTabbableNode)}(e)}function F(e){o.clickOutsideDeactivates||a.contains(e.target)||o.allowOutsideClick&&("boolean"==typeof o.allowOutsideClick?o.allowOutsideClick:o.allowOutsideClick(e))||(e.preventDefault(),e.stopImmediatePropagation())}function w(){var e=i(a);r.firstTabbableNode=e[0]||m(),r.lastTabbableNode=e[e.length-1]||m()}function D(e){e!==n.activeElement&&(e&&e.focus?(e.focus({preventScroll:!!o.preventScroll}),r.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"==typeof e.select}(e)&&e.select()):D(m()))}}function b(e){return setTimeout(e,0)}var y={props:{active:{type:Boolean,default:!0},escapeDeactivates:{type:Boolean,default:!0},returnFocusOnDeactivate:{type:Boolean,default:!0},allowOutsideClick:{type:Boolean,default:!0},clickOutsideDeactivates:{type:Boolean,default:!1},initialFocus:[String,Function],fallbackFocus:[String,Function]},model:{event:"update:active",prop:"active"},mounted:function(){var e=this;this.$watch("active",(function(t){t?(e.trap=m(e.$el,{escapeDeactivates:e.escapeDeactivates,allowOutsideClick:function(){return e.allowOutsideClick},clickOutsideDeactivates:e.clickOutsideDeactivates,returnFocusOnDeactivate:e.returnFocusOnDeactivate,onActivate:function(){e.$emit("update:active",!0),e.$emit("activate")},onDeactivate:function(){e.$emit("update:active",!1),e.$emit("deactivate")},initialFocus:e.initialFocus||function(){return e.$el},fallbackFocus:e.fallbackFocus}),e.trap.activate()):e.trap&&e.trap.deactivate()}),{immediate:!0})},beforeDestroy:function(){this.trap&&this.trap.deactivate(),this.trap=null},methods:{activate:function(){this.trap.activate()},deactivate:function(){this.trap.deactivate()}},render:function(){var e=this.$slots.default;if(!e||!e.length||e.length>1)throw new Error("FocusTrap requires exactly one child");return e[0]}};return e.FocusTrap=y,e}({});
